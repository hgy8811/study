# Android性能优化

布局优化/绘制优化/内存泄漏优化/响应速度优化/listview优化/Bitmap优化/线程优化

* 内存泄漏  
* 代码的可维护性和可扩展性

## 布局优化
层级、复杂度。
<include>布局重用、<merge>减少层级、<viewstub>按需加载

## 绘制优化
onDraw方法避免执行大量、耗时的操作
* 不要创建对象。产生大量临时对象，引起频繁GC
* 不做耗时任务。抢占cpu，到时绘制不流畅，掉帧而卡顿

## 内存泄漏优化
* 静态变量  静态变量Context
* 单例模式  引用短生命周期变量
* 属性动画  无限循环动画没有被停止

## 响应速度优化和ANR日志分析
主线程耗时操作、或者阻塞
5s- 10s - 15s

## listview 和 Bitmap优化

ViewHolder  避免耗时操作 滑动状态控制任务执行频率

图片采样，按实际大小加载

## 线程优化
 线程池

## 其他小建议
* 避免创建过多对象
* 避免使用枚举  尽量整型替代
* 常量使用static final 修饰
* 使用android特有数据结构  SparseArray  ArrayMap等，具有更好的性能
* 适当使用软引用、弱引用
* 采用内存缓存、磁盘缓存
* 避免非静态内部类  容易导致内存泄漏

## 内存泄漏分析之MAT工具

## 提高程序可维护性

代码规范 注释， mvp
