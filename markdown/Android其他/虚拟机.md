# Android ART运行时 & Dalvik虚拟机

## Dalvik虚拟机执行的是dex字节码，ART虚拟机执行的是本地机器码 oat文件

1. 这意味着Dalvik虚拟机包含有一个解释器，用来执行dex字节码
2. Android从2.2开始，包含JIT（Just-In-Time），用来在运行时动态地将执行频率很高的dex字节码翻译成本地机器码，再执行。通过JIT，就可以有效地提高Dalvik虚拟机的执行效率。但是，将dex字节码翻译成本地机器码是发生在应用程序的运行过程中的，并且应用程序每一次重新运行的时候，都要做重做这个翻译工作的。因此，即使用采用了JIT，Dalvik虚拟机的总体性能还是不能与直接执行本地机器码的ART虚拟机相比。
3. ART虚拟机执行的本地机器码，ART将应用的dex字节码翻译成本地机器码的最恰当AOT时机就发生在应用安装的时候。

## GC Roots，就是指在GC开始的瞬间，被全局变量、栈变量和寄存器等引用的对象
