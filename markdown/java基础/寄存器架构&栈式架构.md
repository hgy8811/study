# 虚拟机执行引擎的架构模型

## 本地机器指令
机器指令就是一种能够被CPU直接识别并执行的指令，它以二进制编码作为表现形式。
一个Java程序要运行起来，执行引擎需要将字节码指令解释/编译为对应平台上的本地机器指令才行。

## 寄存器架构与栈式架构之间的区别

### 指令集不同
基于寄存器架构的指令集往往都以一地址指令、二地址指令和三地址指令为主，基于栈式架构的指令集却是以零地址指令为主。

### 基于栈式架构的优点
1. 设计和实现简单，适用于资源受限的系统
2. 避开了寄存器的分配难题
3. 指令集更加紧凑

### 基于寄存器架构的优点
1. 性能优秀和执行高效
2. 花费更少的指令去完成一项操作

## 总结

基于寄存器架构的虚拟机性能更加高效，尽管基于栈式架构的虚拟机使用的指令更加紧凑，但是完成一项操作的时候必须花费更多的入栈和出栈指令，这同时意味将需要更多的指令分派次数和内存读写次数。由于访问内存是执行速度的一个重要瓶颈，二地址指令或三地址指令虽然每条指令占的空间较多，但总体来说可以用更少的指令去完成一项操作，指令分派和内存读写次数相对来说也都更少。
