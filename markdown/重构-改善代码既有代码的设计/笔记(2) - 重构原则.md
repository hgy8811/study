# 重构原则

##  重构定义

* 对软件内部结构的一种调整，目的是在不改变软件可观察行为的前提下，提高其可理解性，降低其修改成本。

* 使用一些列重构手法，在不改变软件可观察行为的前提下，调整其结构。


重构的目的是使软件更容易被理解和修改。重构不会改变软件的可观察行为。

Tips:性能优化通常不会改变组件的行为，但往往会使代码较难理解。

## 为何重构

### 重构改进软件设计
* 如果没有重构，程序的设计会逐渐腐败变质。人们为了短期目的，或是在完全理解整体设计之前，贸然修改代码，程序将会逐渐失去自己的结构，程序员越来越难通过阅读源码来理解原来的设计[Tips：没有文档，只能读源码的时候更甚]。代码结构的流失是累积性的。经常性的重构可以帮助代码维持自己该有的形态。

* 改进设计的一个重要方向就是消除重复代码[Tips：为了追求速度，copy一份代码，后期维护就比较费力].


### 重构使软件更容易理解

### 重构帮助找到bug

### 重构提高编程速度

良好的设计是维持软件开发速度的根本。重构可以帮助你更快速地开发软件，因为他它阻止系统腐败变质，它甚至还可以提高设计质量。

## 何时重构

重构应该随时随地进行。

### 添加功能时重构

代码的设计无法帮助我轻松添加我所需要的特性。

### 修补错误时重构

### 复审代码时重构

```
* 容易阅读
* 所有逻辑都只在唯一地点指定
* 新的改动不会危及现有行为
* 尽可能简单表达条件逻辑

重构是这样一个过程：它在一个目前可运行的程序上进行，在不改变程序行为的前提下使其具备上述没好性质，使我们能够继续保持高速开发，从而增加程序的价值。
```

## 重构与设计

重构可以带来更简单的设计，同时又不损失灵活性，这也降低了设计过程的难度，减轻了设计压力。一旦对重构带来的简单性有更多感受，你甚至可以不必预先思考所谓的灵活方案---一旦需要它，你总有足够的信心去重构。

## 重构与性能

为了让软件易于理解，你常会做出一些事程序运行变慢的修改。
首先写出可调的软件，然后调整它以求获得足够速度。
监控程序运行，找出性能热点，然后去优化它们，这样较少的工作量能显现出较好的成果。
